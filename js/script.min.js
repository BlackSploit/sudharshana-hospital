$(document).ready((function() {
    console.log("Language: " + language);
    let t = window.location.pathname.split("/").pop().split(".")[0],
        e = window.location.pathname.split("/")[1];
    var n = void 0;
    $(".logo").on("click", (function() {
        location.href = "https://www.gargashhospital.com"
    })), $(".language-switcher").on("click", (function() {
        let e = $(this).attr("target");
        if ($("#language_target").val(e), "specialities" == t) {
            console.log("enter in spe");
            let t = $("#page_url").val(),
                e = window.location.href.split("#")[1],
                n = t;
            e && (n = t + "#" + e), $("#page_url").attr("value", n), $("#page_url_mobile").attr("value", n), $("#language_switcher_form").submit()
        } else if ("package_detail" == t) {
            let t = $("#page_url").val(),
                e = window.location.href.split("#")[1],
                i = t;
            e ? (i = t + "#" + e, null != n && (i = t + "#package_" + n)) : null != n && (i = t + "#package_" + n), $("#page_url").attr("value", i), $("#page_url_mobile").attr("value", i), $("#language_switcher_form").submit()
        } else $("#language_switcher_form").submit()
    }));
    var i = $("#docs-list .element");
    $("#docs-filter-section").on("click", ".filter-box", (function() {
        $("#category-seclector-section").fadeIn(500)
    })), $("#category-seclector-section").on("click", ".element", (function() {
        if ("true" == $(this).attr("all")) i.each((function(t, e) {
            $(e).fadeIn(500)
        })), "ar" == language ? $("#docs-filter-section input").val("Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©") : $("#docs-filter-section input").val("Select Category");
        else {
            let t = $(this).attr("target");
            $("#docs-filter-section input").val($(this).attr("target_text")), i.each((function(e, n) {
                $(n).attr("department") == t ? $(n).fadeIn(500) : $(n).fadeOut(500)
            }))
        }
        $("#category-seclector-section .element").removeClass("active"), $(this).addClass("active"), $("#category-seclector-section").fadeOut(500)
    })), $(".home-appointment-section .content-section").on("click", ".ip-drop-sec .op", (function() {
        $(this).closest(".ip-drop-sec").find(".option-container").slideToggle()
    }));
    let o = $(".home_doctor_list .option");
    $(".home-appointment-section .option-container").on("click", ".option", (function() {
        let t = $(this).closest(".option-container").attr("mode");
        if ("department" == t) {
            let t = $(this).attr("department_id"),
                e = $(this).attr("department_text"),
                n = $(this).closest(".ip-drop-sec").find(".op");
            n.html(e), n.attr("department_id", t), 0 == t ? o.each((function(t, e) {
                $(e).show()
            })) : (o.each((function(e, n) {
                $(n).attr("department_id") == t ? $(n).show() : $(n).hide()
            })), o.each((function(e, n) {
                let i = $('.ip-drop-sec[target="doctor"] .op');
                i.attr("department_id") != t && (i.attr("department_id", 0), i.attr("doctor_id", 0), "ar" == language ? i.html("Ø§ÙŠ Ø·Ø¨ÙŠØ¨") : i.html("Any Doctor"))
            })))
        } else if ("doctor" == t) {
            let t = $(this).attr("doctor_id"),
                e = $(this).attr("doctor_text"),
                n = $(this).attr("department_id"),
                i = $(this).closest(".ip-drop-sec").find(".op");
            i.html(e), i.attr("doctor_id", t), i.attr("department_id", n)
        }
        $(this).closest(".option-container").slideToggle()
    })), $(".home-appointment-section").on("click", ".submit-btn", (function() {
        let t = $(this).closest(".home-appointment-section"),
            e = t.find('.content-section input[name="phone"]').val();
        if (null != e && e.length > 0) {
            t.find('.content-section input[name="phone"]').css({
                "background-color": "rgba(255, 255, 255, 0.3)"
            });
            let n = {
                department: t.find('.content-section .op[name="department"]').attr("department_id"),
                doctor: t.find('.content-section .op[name="doctor"]').attr("doctor_id"),
                date: t.find('.content-section input[name="date"]').val(),
                time: t.find('.content-section input[name="time"]').val(),
                name: t.find('.content-section input[name="name"]').val(),
                email: t.find('.content-section input[name="email"]').val(),
                phone: e
            };
            $.ajax({
                url: "php/make_appointment.php",
                type: "post",
                data: n,
                success: function(t) {
                    try {
                        r = JSON.parse(t), n.request_date = r.request_recieved_date, 1 == r.status ? ($(".success-container").fadeIn(500), $.ajax({
                            url: "php/mail.php",
                            type: "post",
                            data: n,
                            success: function(t) {
                                console.log("success"), re = JSON.parse(t), console.log(re)
                            },
                            error: function(t, e, n) {
                                console.log(e, n)
                            }
                        })) : $(".fail-container").fadeIn(500)
                    } catch (t) {
                        $(".fail-container").fadeIn(500)
                    }
                },
                error: function(t, e, n) {
                    console.log(e, n)
                }
            })
        } else t.find('.content-section input[name="phone"]').css({
            "background-color": "rgba(255, 0, 0, 0.4)"
        })
    })), $(".success-container").on("click", ".button", (function() {
        $(this).closest(".success-container").fadeOut(500)
    })), $(".fail-container").on("click", ".button", (function() {
        $(this).closest(".fail-container").fadeOut(500)
    })), $("#hub-player").on("click", "img", (function() {
        0 == $("#hub-player img").hasClass("hide") && ($("#hub-player img").addClass("hide"), $("#youtube_player")[0].src += "&autoplay=1")
    })), $("#ghada-video").on("click", "img", (function() {
        0 == $("#ghada-video img").hasClass("hide") && ($("#ghada-video img").addClass("hide"), $("#ceo_video")[0].src += "&autoplay=1")
    }));
    var a = [];
    if ("package_detail" == t) {
        let t = window.location.href.split("#")[1];
        if (t) {
            let e = $("#pd-content #" + t);
            e.addClass("active"), $("html, body").animate({
                scrollTop: e.offset().top - 10
            }, 500)
        }
        let e = $("#pd-content"),
            n = e.find("h3"),
            i = e.find("ul");
        n.replaceWith((function() {
            return $("<div/>", {
                class: "txt2",
                html: this.innerHTML
            })
        })), $(i).each((function(t, e) {
            li = $(i).find("li"), li.replaceWith((function() {
                return '<div class="content"><div class="icon"></div><div class="ctxt">' + this.innerHTML + "</div></div>"
            }))
        })), i.replaceWith((function() {
            return $("<div/>", {
                html: this.innerHTML
            })
        }))
    } else if ("hub" == t) {
        let t = $("#hub_section_2_list").find("ul"),
            e = "";
        "ar" == language && (e = 'dir="rtl"'), $(t).each((function(n, i) {
            li = $(t).find("li"), li.replaceWith((function() {
                return '<div class="content"><div class="icon"></div><div class="ctxt"' + e + ">" + this.innerHTML + "</div></div>"
            }))
        })), t.replaceWith((function() {
            return $("<div/>", {
                html: this.innerHTML
            })
        }))
    } else if ("search" == t) {
        let t = $("#packages-contents .list .element"),
            e = !1;
        $(t).each((function(t, n) {
            let i = $(n).find(".title").html().toLowerCase();
            i = i.replace(/&amp;/g, "&"), 1 != i.includes(searchKey.toLowerCase()) ? $(n).hide() : e = !0
        })), 0 == e && $("#packages-contents").hide(), $.ajax({
            url: "php/specialities.php",
            type: "post",
            data: {
                lan: language
            },
            success: function(t) {
                a = JSON.parse(t);
                let e = !1;
                for (let t = 0; t < a.length; t++) {
                    let n = a[t],
                        i = n.content;
                    i = i.toLowerCase();
                    let o = n.name;
                    o = o.toLowerCase(), o = o.replace(/&nbsp;/g, " "), 1 != i.includes(searchKey.toLowerCase()) && 1 != o.includes(searchKey.toLowerCase()) || (e = !0, $(".search-specialities-result-section .data-container").append('<a href="specialities.php#' + n.order + '" class="item">' + n.name + "</a>"))
                }
                0 == e && $(".search-specialities-result-section").hide()
            },
            error: function(t, e, n) {
                console.log(e, n)
            }
        })
    } else if ("doctor" == e) {
        let t = $("#doctor_content"),
            e = t.find("blockquote"),
            n = t.find("h3"),
            i = t.find("ul");
        e.replaceWith((function() {
            return $("<div/>", {
                class: "txt",
                html: this.innerHTML
            })
        })), n.replaceWith((function() {
            return $("<div/>", {
                class: "head2",
                html: this.innerHTML
            })
        })), $(i).each((function(t, e) {
            li = $(i).find("li"), li.replaceWith((function() {
                return '<div class="content"><div class="icon"></div><div class="ctxt">' + this.innerHTML + "</div></div>"
            }))
        })), i.replaceWith((function() {
            return $("<div/>", {
                html: this.innerHTML
            })
        }))
    }

    function c() {
        $(document).scrollTop() < 100 ? 0 == $("#move-up").hasClass("hide") && $("#move-up").addClass("hide") : 1 == $("#move-up").hasClass("hide") && $("#move-up").removeClass("hide")
    }
    $("#pd-content").on("click", ".element .down-arrow", (function() {
        let t = $(this).closest(".element");
        n = $(this).closest(".element").attr("package_id"), $("#pd-content .element").removeClass("active"), t.addClass("active"), $("html, body").animate({
            scrollTop: t.offset().top - 10
        }, 500)
    })), $("html .search-box").on("click", ".icon", (function() {
        let t = $(this).closest(".search-box").find("input").val();
        console.log(t), null != t && t.length > 0 && (location.href = "https://www.gargashhospital.com/search/" + t)
    })), $("html .search-box").on("keyup", "input", (function(t) {
        if (console.log(t), 13 == t.which) {
            let t = $(this).val();
            null != t && t.length > 0 && (location.href = "https://www.gargashhospital.com/search/" + t)
        }
    })), $("#home-tourism").on("click", ".list .element", (function() {
        let t = $(this).attr("target");
        for (let e = 0; e < d_med.length; e++) {
            d_med[e].target == t && ($("#home-tourism .content-list .head").html(d_med[e].header), $("#home-tourism .content-list .txt").html(d_med[e].content), $("#home-tourism .content-list .img-box img").attr({
                src: d_med[e].img,
                alt: d_med[e].header
            }))
        }
    })), $("#move-up").click((function() {
        $("html,body").animate({
            scrollTop: 0
        }, "slow")
    })), $("#sidebar").on("click", ".close", (function() {
        $("#sidebar").addClass("hide")
    })), $(".hamburger").on("click", (function() {
        $("#sidebar").removeClass("hide")
    })), $("#testimonial-sec").on("click", ".handler-section .handler", (function() {
        let t = $(this),
            e = t.attr("target");
        $("#testimonial-sec .element").animate({
            left: -100 * e + "%"
        }, 300), $("#testimonial-sec .handler-section .handler").removeClass("active"), t.addClass("active")
    })), $("#home-tourism").on("click", ".list .element", (function() {
        $("#home-tourism .list .element").removeClass("active"), $(this).addClass("active")
    })), $(document).on("click", ".router", (function() {
        let t = $(this).attr("link");
        location.href = t
    })), c(), $("#testimonial-sec .handler-section .handler").each((function(t, e) {
        $(this).attr("target", t)
    })), $(document).scroll((function() {
        c()
    })), $(window).on("resize", (function() {
        setupBannerImageWidth()
    }))
}));